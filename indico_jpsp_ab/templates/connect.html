{% from '_sortable_list.html' import sortable_list %}
{% from 'events/management/_settings.html' import render_event_settings %}
{% from 'forms/_form.html' import form_header, form_footer, form_row, form_rows, form_fieldset %}
{% from 'events/contributions/management/_draft_mode_warning.html' import render_draft_mode_warning %}

{% block content %}

    {{ form_header(form, id='jpsp-ng-connect-form') }}

    {{ form_row(form.api_url) }}
    {{ form_row(form.api_key) }}

    {% call(custom_field) sortable_list(event.contribution_fields, id="custom-fields", classes='tiles disable-if-locked') %}
        <a class="icon-edit js-action-button js-edit-contribution-field" 
            title="{% trans %}Select custom field{% endtrans %}"></a>
    {% endcall %}

    {% call form_footer(form, skip_label=true) %}
        <input class="i-button big highlight" type="submit" value="{% trans %}Connect{% endtrans %}" data-disabled-until-change>
    {% endcall %}

{% endblock %}
